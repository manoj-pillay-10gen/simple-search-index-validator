{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "Define your Atlas Search Index",
  "properties": {
    "name": {
      "$ref": "common#/definitions/non-empty-string",
      "markdownDescription": "Specifies a name for the index. In each [namespace](https://www.mongodb.com/docs/manual/reference/limits/#faq-dev-namespace), names of all indexes in the namespace must be unique. If omitted, defaults to `default`.",
      "defaultSnippets": [
        {
          "label": "index name",
          "body": "default"
        }
      ]
    },
    "mappings": {
      "$ref": "mappings"
    },
    "synonyms": {
      "$ref": "synonyms"
    },
    "database": {
      "$ref": "common#/definitions/non-empty-string"
    },
    "collectionName": {
      "$ref": "common#/definitions/non-empty-string"
    },
    "analyzer": {
      "$ref": "common#/definitions/analyzers",
      "markdownDescription": "Specifies the [analyzer](https://www.mongodb.com/docs/atlas/atlas-search/analyzers/#std-label-analyzers-ref) to apply to string fields when indexing. If you set this only at the top and do not specify an analyzer for the fields in the index definition, Atlas Search applies this analyzer to all the fields. To use a different analyzer for each field, you must specify a different analyzer for the field. If omitted, defaults to [Standard Analyzer](https://www.mongodb.com/docs/atlas/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)."
    },
    "searchAnalyzer": {
      "$ref": "common#/definitions/analyzers",
      "description": "Specifies the [analyzer](https://www.mongodb.com/docs/atlas/atlas-search/analyzers/#std-label-analyzers-ref) to apply to query text before searching with it. If omitted, defaults to the analyzer that you specify for the analyzer option. If you omit both the searchAnalyzer and the analyzer options, defaults to the [Standard Analyzer](https://www.mongodb.com/docs/atlas/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)."
    },
    "analyzers": {
      "type": "array",
      "items": { "$ref": "custom_analyzer" },
      "markdownDescription": "Specifies the [Custom Analyzers](https://www.mongodb.com/docs/atlas/atlas-search/analyzers/custom/#std-label-custom-analyzers) to use in this index.",
      "minItems": 1
    },
    "storedSource": {
      "type": "boolean",
      "default": false,
      "markdownDescription": "Specify fields in the documents to store on Atlas Search. Value can be one of: \n- `true` to store all fields \n- `false`, to not store any fields and \n- [Object](https://www.mongodb.com/docs/atlas/atlas-search/stored-source-definition/#std-label-fts-stored-source-document) that specifies the fields to include or exclude from storage. \n If omitted, defaults to `false`. To learn more about the syntax and fields, see [Define Stored Source Fields in Your Atlas Search Index](https://www.mongodb.com/docs/atlas/atlas-search/stored-source-definition/#std-label-fts-stored-source-definition)"
    }
  },
  "required": ["mappings", "collectionName", "database", "name"],
  "additionalProperties": false,
  "definitions": {}
}
